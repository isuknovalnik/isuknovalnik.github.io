"use strict";

(function () {
  var advantagesSwiper = document.querySelector('.advantages__slider');

  if (advantagesSwiper) {
    advantagesSwiper = new Swiper('.advantages__slider', {
      loop: true,
      speed: 600,
      navigation: {
        nextEl: '.advantages-control-next',
        prevEl: '.advantages-control-prev'
      },
      pagination: {
        el: '.advantages__slider-pagination',
        type: 'fraction',
        formatFractionCurrent: function formatFractionCurrent(number) {
          return number < 10 ? '0' + number : number;
        },
        formatFractionTotal: function formatFractionTotal(number) {
          return number < 10 ? '0' + number : number;
        }
      }
    });
  }
})();
"use strict";

(function () {
  var cpaSwiper = document.querySelector('.cpa__slider');

  if (cpaSwiper) {
    var cpaWrapper = cpaSwiper.querySelector('.swiper-wrapper');
    var cpaSlides = cpaSwiper.querySelectorAll('.swiper-slide');
    var isCpaSwiper;

    var initCpaSwiper = function initCpaSwiper() {
      cpaSwiper = new Swiper('.cpa__slider', {
        slidesPerView: '4',
        loop: true,
        speed: 600,
        breakpoints: {
          400: {
            slidesPerView: 1
          },
          550: {
            slidesPerView: 2
          },
          700: {
            slidesPerView: 3
          }
        },
        navigation: {
          nextEl: '.cpa-control-next',
          prevEl: '.cpa-control-prev'
        },
        pagination: {
          el: '.cpa__slider-pagination'
        }
      });
      isCpaSwiper = true;
    };

    var destroyCpaSwiper = function destroyCpaSwiper() {
      cpaSwiper.destroy();
      cpaWrapper.removeAttribute('style');
      cpaSlides.forEach(function (elem) {
        elem.removeAttribute('style');
      });
      isCpaSwiper = false;
    };

    var processResize = function processResize() {
      if (window.matchMedia('(max-width: 767px)').matches) {
        if (!isCpaSwiper) {
          initCpaSwiper();
        }
      } else {
        if (isCpaSwiper) {
          destroyCpaSwiper();
        }
      }
    };

    var resizeTimer;
    window.addEventListener('resize', function () {
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(processResize, 10);
    });

    if (window.matchMedia('(max-width: 767px)').matches) {
      initCpaSwiper();
    }
  }
})();
"use strict";

(function () {
  var isErrorInput = document.querySelector('.text-input__input');

  if (isErrorInput) {
    var forms = document.querySelectorAll('.js-form');

    var removeError = function removeError(errorWrapper, errorInput) {
      errorInput.addEventListener('blur', function () {
        if (errorWrapper.classList.contains('error-input')) {
          errorWrapper.classList.remove('error-input');
          var errorText = errorWrapper.querySelector('.text-input__error-message');
          errorText.textContent = '';
        }
      });
    };

    var showError = function showError(errorWrappers, errorInputs, submitBtn) {
      submitBtn.addEventListener('click', function (event) {
        for (var i = 0; i < errorInputs.length; i++) {
          var errorText = errorWrappers[i].querySelector('.text-input__error-message');
          errorText.textContent = '';
          var validity = errorInputs[i].validity;

          if (validity.valid) {
            errorWrappers[i].classList.remove('error-input');
          } else {
            errorWrappers[i].classList.add('error-input');

            if (validity.valueMissing) {
              errorText.textContent = 'поле не заполнено';
            } else {
              errorText.textContent = 'поле заполнено некорректно';
            }

            event.preventDefault();
          }
        }
      });

      for (var j = 0; j < errorInputs.length; j++) {
        removeError(errorWrappers[j], errorInputs[j]);
      }
    };

    for (var k = 0; k < forms.length; k++) {
      var errorWrappers = forms[k].querySelectorAll('.text-input');
      var errorInputs = forms[k].querySelectorAll('.text-input__input');
      var submitBtn = forms[k].querySelector('.js-submit');
      showError(errorWrappers, errorInputs, submitBtn);
    }
  }
})();
"use strict";

$(document).ready(function () {
  $('.js-reg-btn').click(function () {
    $('.js-reg-modal').addClass('modal--active');
  });
  $('.modal__close-btn').click(function () {
    $('.modal').removeClass('modal--active');
  });
  $('.modal').click(function (evt) {
    // eslint-disable-next-line no-invalid-this
    if (evt.target === this) {
      $('.modal').removeClass('modal--active');
    }
  });
  $('.js-geo').click(function (evt) {
    evt.preventDefault();
    $('.js-geo-popup').toggleClass('countries--active');
  });
});
"use strict";

(function () {
  if (document.querySelector('.text-input')) {
    var textInputs = document.querySelectorAll('.text-input');

    var checkEmptyInput = function checkEmptyInput(textInput, input) {
      input.addEventListener('change', function () {
        if (input.value) {
          textInput.classList.add('focused-or-filled');
        } else {
          textInput.classList.remove('focused-or-filled');
        }
      });
    };

    var checkInputFocus = function checkInputFocus(textInput, input) {
      input.addEventListener('focus', function () {
        textInput.classList.add('focused-or-filled');
      });
    };

    var checkInputBlur = function checkInputBlur(textInput, input) {
      input.addEventListener('blur', function () {
        if (!input.value) {
          textInput.classList.remove('focused-or-filled');
        }
      });
    };

    for (var i = 0; i < textInputs.length; i++) {
      var currentInput = textInputs[i].querySelector('.text-input__input');
      checkEmptyInput(textInputs[i], currentInput);
      checkInputFocus(textInputs[i], currentInput);
      checkInputBlur(textInputs[i], currentInput);
    }
  }
})();
//# sourceMappingURL=script.js.map

//# sourceMappingURL=script.min.js.map
